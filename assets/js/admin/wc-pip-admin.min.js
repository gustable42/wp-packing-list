(function(){"use strict";jQuery(document).ready(function(a){var b,c,d,e,f;if(f=null!=(d=window.typenow)?d:"",c=null!=(e=window.pagenow)?e:"","shop_order"===f&&(a(".wc_pip_document").pointer({pointerClass:"wc-pip-document-actions-pointer",position:{edge:"right",align:"right"},content:function(b){var c,d;return c=parseInt(a(this).attr("href").replace(/^\D+/g,""),10),d=a("#wc-pip-pointer-order-actions-"+c),d.html()},buttons:function(b,c){var d;return d=a('<button class="button button-large wc-pip-pointer-close">'+wc_pip_admin.i18n.close+"</button>"),d.bind("click.pointer",function(a){return a.preventDefault(),c.element.pointer("close")})},opened:function(b){var c;return c=parseInt(a(this).attr("href").replace(/^\D+/g,""),10),a(".wc-pip-document-actions-pointer").each(function(){if(a(this).is(":visible")&&parseInt(a(this).find("input").val(),10)!==c)return a(this).find(".wc-pip-pointer-close").trigger("click")})}}).on("click",function(b){return b.preventDefault(),a(this).pointer("toggle")}),a(document).on("mouseup",function(b){var c,d;if(c=a(b.target),c&&!c.hasClass("wc_pip_document")&&(d=c.closest("div.wc-pip-document-actions-pointer"),0===d.length))return a(".wc-pip-document-actions-pointer").each(function(){if(a(this).is(":visible"))return a(this).find(".wc-pip-pointer-close").trigger("click")})}),a(".bulkactions select").each(function(){var b,c,d;if(d=a(this),c=d.find("option[value^='wc_pip_']"),c.length)return b=a("<optgroup>").attr("label",wc_pip_admin.i18n.plugin_name).append(c.detach()),d.append(b)}),a(".wc-reload").on("click",function(b){var c,d;if(c=a("select[name=wc_order_action]").val(),"wc_pip_send_email_invoice"===c||"wc_pip_send_email_packing_list"===c)return b.preventDefault(),d={action:"wc_pip_order_send_email",security:wc_pip_admin.send_order_email_nonce,document:c,order_id:a("#post_ID").val()},a.post(wc_pip_admin.ajax_url,d,function(a){return a.success?window.location=a.data:console.log(a)})})),"woocommerce_page_wc-settings"===c)return a("#wc_pip_invoice_number_reset_counter").attr("checked",!1),a(".hide-options-if-checked").change(function(b){return a(this).is(":checked")?a(document).find(".hide-if-use-order-number").closest("tr").hide():a(document).find(".hide-if-use-order-number").closest("tr").show()}).change(),b=a("#wc_pip_invoice_number_reset_counter"),b.change(function(b){var c,d,e;return d=a(this).is(":checked"),e=document.getElementById("wc_pip_invoice_number_start"),!0===d?(c=confirm(wc_pip_admin.i18n.reset_counter_warning),!0===c?e.readOnly=!1:a(this).prop("checked",!1)):e.readOnly=!0}).change(),a(".wc-pip-media-upload").on("click",function(b){var c,d;return b.preventDefault(),c=a(this),d?void d.open():void("undefined"!=typeof wp&&wp.media&&(d=wp.media.frames.file_frame=wp.media({title:a(this).data("uploader_title"),button:{text:a(this).data("uploader_button_text")},multiple:!1}),d.on("select",function(a){var b;return b=d.state().get("selection").first().toJSON(),c.prev(".wc-pip-media-url").val(b.url)}),d.open()))})})}).call(this);